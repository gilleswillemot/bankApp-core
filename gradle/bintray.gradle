// Fetching a property from local.properties
Properties properties = new Properties()
def propertiesFile = project.rootProject.file('local.properties')
if (propertiesFile.exists()) {
    properties.load(propertiesFile.newDataInputStream())
}

// https://github.com/bintray/gradle-bintray-plugin#step-4-add-your-bintray-package-information-to-the-bintray-closure
bintray {
    user = properties.getProperty('BINTRAY_USER')//project.hasProperty('bintrayUser') ? project.property('bintrayUser') : System.getenv('BINTRAY_USER')
    key = properties.getProperty('BINTRAY_API_KEY')//project.hasProperty('bintrayApiKey') ? project.property('bintrayApiKey') : System.getenv('BINTRAY_API_KEY')
//    override = true

    // If you set publish to true, the new version will be published the moment you upload to bintray. If false,
    // it will not be published unless you press the publish button on the bintray web.
    // It is recommended that you make it false because it can prevent an accident that you accidentally release the latest version.
    publish = false

    pkg {
        userOrg = projectBintrayUserOrg
        repo = projectBintrayRepoName
        name = projectBintrayArtifactName
        vcsUrl = projectGithubUrl
        licenses = ['Apache-2.0']
//        publications = ['mavenProject']

        version {
            name = project.version
            released = new Date()
            vcsTag = project.version

            gpg {
                sign = true //Determines whether to GPG sign the files. The default is false
                passphrase = properties.getProperty('BINTRAY_PASSPHRASE')// System.getenv('BINTRAY_PASSPHRASE')
                //Optional. The passphrase for GPG signing'
            }
        }
    }
}
